# GNU Make workspace makefile autogenerated by Premake

ifndef config
  config=debug
endif

ifndef verbose
  SILENT = @
endif

ifeq ($(config),debug)
  c_ex1_config = debug
  std_shader_ex1_config = debug
  c_ex2_config = debug
  std_shader_ex2_config = debug
  c_ex3_config = debug
  ex1_config = debug
  ex2_config = debug
  ex3_config = debug
  gears_config = debug
  lesson1_config = debug
  lesson2_config = debug
  lesson3_config = debug

else ifeq ($(config),release)
  c_ex1_config = release
  std_shader_ex1_config = release
  c_ex2_config = release
  std_shader_ex2_config = release
  c_ex3_config = release
  ex1_config = release
  ex2_config = release
  ex3_config = release
  gears_config = release
  lesson1_config = release
  lesson2_config = release
  lesson3_config = release

else
  $(error "invalid configuration $(config)")
endif

PROJECTS := c_ex1 std_shader_ex1 c_ex2 std_shader_ex2 c_ex3 ex1 ex2 ex3 gears lesson1 lesson2 lesson3

.PHONY: all clean help $(PROJECTS) 

all: $(PROJECTS)

c_ex1:
ifneq (,$(c_ex1_config))
	@echo "==== Building c_ex1 ($(c_ex1_config)) ===="
	@${MAKE} --no-print-directory -C . -f c_ex1.make config=$(c_ex1_config)
endif

std_shader_ex1:
ifneq (,$(std_shader_ex1_config))
	@echo "==== Building std_shader_ex1 ($(std_shader_ex1_config)) ===="
	@${MAKE} --no-print-directory -C . -f std_shader_ex1.make config=$(std_shader_ex1_config)
endif

c_ex2:
ifneq (,$(c_ex2_config))
	@echo "==== Building c_ex2 ($(c_ex2_config)) ===="
	@${MAKE} --no-print-directory -C . -f c_ex2.make config=$(c_ex2_config)
endif

std_shader_ex2:
ifneq (,$(std_shader_ex2_config))
	@echo "==== Building std_shader_ex2 ($(std_shader_ex2_config)) ===="
	@${MAKE} --no-print-directory -C . -f std_shader_ex2.make config=$(std_shader_ex2_config)
endif

c_ex3:
ifneq (,$(c_ex3_config))
	@echo "==== Building c_ex3 ($(c_ex3_config)) ===="
	@${MAKE} --no-print-directory -C . -f c_ex3.make config=$(c_ex3_config)
endif

ex1:
ifneq (,$(ex1_config))
	@echo "==== Building ex1 ($(ex1_config)) ===="
	@${MAKE} --no-print-directory -C . -f ex1.make config=$(ex1_config)
endif

ex2:
ifneq (,$(ex2_config))
	@echo "==== Building ex2 ($(ex2_config)) ===="
	@${MAKE} --no-print-directory -C . -f ex2.make config=$(ex2_config)
endif

ex3:
ifneq (,$(ex3_config))
	@echo "==== Building ex3 ($(ex3_config)) ===="
	@${MAKE} --no-print-directory -C . -f ex3.make config=$(ex3_config)
endif

gears:
ifneq (,$(gears_config))
	@echo "==== Building gears ($(gears_config)) ===="
	@${MAKE} --no-print-directory -C . -f gears.make config=$(gears_config)
endif

lesson1:
ifneq (,$(lesson1_config))
	@echo "==== Building lesson1 ($(lesson1_config)) ===="
	@${MAKE} --no-print-directory -C . -f lesson1.make config=$(lesson1_config)
endif

lesson2:
ifneq (,$(lesson2_config))
	@echo "==== Building lesson2 ($(lesson2_config)) ===="
	@${MAKE} --no-print-directory -C . -f lesson2.make config=$(lesson2_config)
endif

lesson3:
ifneq (,$(lesson3_config))
	@echo "==== Building lesson3 ($(lesson3_config)) ===="
	@${MAKE} --no-print-directory -C . -f lesson3.make config=$(lesson3_config)
endif

clean:
	@${MAKE} --no-print-directory -C . -f c_ex1.make clean
	@${MAKE} --no-print-directory -C . -f std_shader_ex1.make clean
	@${MAKE} --no-print-directory -C . -f c_ex2.make clean
	@${MAKE} --no-print-directory -C . -f std_shader_ex2.make clean
	@${MAKE} --no-print-directory -C . -f c_ex3.make clean
	@${MAKE} --no-print-directory -C . -f ex1.make clean
	@${MAKE} --no-print-directory -C . -f ex2.make clean
	@${MAKE} --no-print-directory -C . -f ex3.make clean
	@${MAKE} --no-print-directory -C . -f gears.make clean
	@${MAKE} --no-print-directory -C . -f lesson1.make clean
	@${MAKE} --no-print-directory -C . -f lesson2.make clean
	@${MAKE} --no-print-directory -C . -f lesson3.make clean

help:
	@echo "Usage: make [config=name] [target]"
	@echo ""
	@echo "CONFIGURATIONS:"
	@echo "  debug"
	@echo "  release"
	@echo ""
	@echo "TARGETS:"
	@echo "   all (default)"
	@echo "   clean"
	@echo "   c_ex1"
	@echo "   std_shader_ex1"
	@echo "   c_ex2"
	@echo "   std_shader_ex2"
	@echo "   c_ex3"
	@echo "   ex1"
	@echo "   ex2"
	@echo "   ex3"
	@echo "   gears"
	@echo "   lesson1"
	@echo "   lesson2"
	@echo "   lesson3"
	@echo ""
	@echo "For more information, see https://github.com/premake/premake-core/wiki"